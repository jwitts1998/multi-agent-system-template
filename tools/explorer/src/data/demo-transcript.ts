export const DEMO_TRANSCRIPT = `{"role":"user","message":{"content":[{"type":"text","text":"<user_query>\\nImplement the user authentication module with JWT tokens and refresh token rotation. Use the existing database schema.\\n</user_query>"}]}}
{"role":"assistant","message":{"content":[{"type":"text","text":"I'll implement the authentication module. Let me start by understanding the existing codebase structure and database schema.\\n[Tool call] Read\\n  path: src/db/schema.ts\\n[Tool call] Grep\\n  pattern: auth|user|token\\n  path: src/\\n[Tool call] SemanticSearch\\n  query: How is authentication currently handled?\\n  target_directories: []\\n[Tool result] Read\\n[Tool result] Grep\\n[Tool result] SemanticSearch\\nI can see the database schema has users and sessions tables. Let me check the existing middleware and config.\\n[Tool call] Read\\n  path: src/middleware/index.ts\\n[Tool call] Read\\n  path: src/config/auth.ts\\n[Tool result] Read\\n[Tool result] Read"}]}}
{"role":"assistant","message":{"content":[{"type":"text","text":"Now I have full context. The schema supports JWT with refresh tokens. Let me implement the auth service.\\n[Tool call] Write\\n  path: src/services/auth.service.ts\\n[Tool call] Write\\n  path: src/middleware/auth.middleware.ts\\n[Tool call] Write\\n  path: src/routes/auth.routes.ts\\n[Tool result] Write\\n[Tool result] Write\\n[Tool result] Write\\nAuth service, middleware, and routes are created. Let me now write the token rotation logic.\\n[Tool call] Write\\n  path: src/services/token.service.ts\\n[Tool call] StrReplace\\n  path: src/services/auth.service.ts\\n[Tool result] Write\\n[Tool result] StrReplace"}]}}
{"role":"user","message":{"content":[{"type":"text","text":"<user_query>\\nLooks good. Now add rate limiting to the auth endpoints and write tests for the auth module.\\n</user_query>"}]}}
{"role":"assistant","message":{"content":[{"type":"text","text":"I'll add rate limiting and write comprehensive tests. Let me use subagents for parallel work.\\n[Tool call] Task\\n  subagent_type: generalPurpose\\n  description: Add rate limiting middleware\\n  prompt: Add rate limiting to auth endpoints using express-rate-limit...\\n[Tool call] Task\\n  subagent_type: test-writer\\n  description: Write auth module tests\\n  model: fast\\n  prompt: Write comprehensive tests for the auth service, middleware, and routes...\\n[Tool result] Task\\n[Tool result] Task\\nBoth tasks completed. Rate limiting is configured at 5 attempts per 15 minutes for login, and 3 attempts per hour for password reset. Tests cover:\\n- JWT generation and verification\\n- Refresh token rotation\\n- Rate limiting behavior\\n- Middleware authentication flow\\n- Edge cases: expired tokens, invalid signatures, missing headers"}]}}
{"role":"assistant","message":{"content":[{"type":"text","text":"Let me verify everything compiles and tests pass.\\n[Tool call] Shell\\n  command: npm run build\\n[Tool call] Shell\\n  command: npm test -- --coverage\\n[Tool result] Shell\\n[Tool result] Shell\\nBuild succeeded. All 24 tests passing with 94% coverage on the auth module.\\n[Tool call] Read\\n  path: src/services/auth.service.ts\\n[Tool result] Read\\nLet me do a final security review.\\n[Tool call] Task\\n  subagent_type: security-auditor\\n  description: Review auth implementation\\n  prompt: Review the authentication implementation for security vulnerabilities...\\n[Tool result] Task\\nSecurity audit passed. The implementation follows OWASP best practices:\\n- Tokens use RS256 signing\\n- Refresh token rotation prevents replay attacks\\n- Rate limiting blocks brute force attempts\\n- Password hashing uses bcrypt with cost factor 12"}]}}
{"role":"user","message":{"content":[{"type":"text","text":"<user_query>\\nPerfect. Commit this and create a PR.\\n</user_query>"}]}}
{"role":"assistant","message":{"content":[{"type":"text","text":"Creating the commit and PR.\\n[Tool call] Shell\\n  command: git add .\\n[Tool call] Shell\\n  command: git status\\n[Tool result] Shell\\n[Tool result] Shell\\n[Tool call] Shell\\n  command: git commit -m \\"feat: implement JWT auth with refresh token rotation\\"\\n[Tool call] Shell\\n  command: git push -u origin feature/auth-module\\n[Tool result] Shell\\n[Tool result] Shell\\n[Tool call] Shell\\n  command: gh pr create --title \\"JWT Authentication Module\\" --body \\"Implements user auth with JWT tokens and refresh rotation\\"\\n[Tool result] Shell\\nPR created: https://github.com/org/repo/pull/42\\n\\nSummary of what was built:\\n- Auth service with login, register, refresh, and logout\\n- JWT middleware for protected routes\\n- Token rotation service preventing replay attacks\\n- Rate limiting on auth endpoints\\n- 24 tests with 94% coverage\\n- Security audit passed"}]}}`;
